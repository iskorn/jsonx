# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- '[ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
   [ "$TRAVIS_BRANCH" = "master" ] &&
   [ "$TRAVIS_PULL_REQUEST" = "false" ] &&
   sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null ||
   true'
- cp settings.xml $HOME/.m2/settings.xml
script:
- '[ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
   [ "$TRAVIS_BRANCH" = "master" ] &&
   [ "$TRAVIS_PULL_REQUEST" = "false" ] &&
   mvn -Dmaven.rtest.skip clean deploy -P deploy ||
   mvn -Dmaven.rtest.skip clean install'
env:
  global:
    secure: TF9DdtAOQITjQzV8XYTpKWEElga9PdhWdiC17yoA6fB0aAi1TRzcUhre2qMUQqG4aFrzyCzJ1Z530rgo8jYXuAMy5U6WPY9g1ifse0hTaVPdewuzuSif1qRz73nnzjNlBvUBxL7fYb8oGyE6ZCnKkqwrHdKVNdS8qFlxV8wkexJOvCRsymryl1a+ei1PRWkAK64Ya3ZIZu0FRcRNQBLDoiUVMcebHAX9+dvhUb74loSsm+nzBW8JPHOe6npje17mSyxmw3hESTl+ZHK/oonsAOLcy3/0TnQnp0K5Y3f20bDh+aJUlCTfFecTl7/jZ2Q4WQ+lXVrje5OQg2P2NAUkwt+/x2jvjGUS62IoV/yxQDPVwzhBd1mIG4b52GwtVNI7v9uAErIhY5pdtSxDWShoxD1wsAOBnNZb4qxS/ZK7bE6z4XUg/H3JapQZnfhMMuDvbEYv1XSGIKttvGQXljCLd3n8tvk+kCy7fAjulr4LOHwdacqfjLAZUu1qBQEXEHo4YeTAmmV652DPVDXqTtkRrfTa6EcTfsKjx0k6Bvm1AEzmw5zxbMzJYuZ3yxWErZTYciiddNVlLTDoCd4BdiVvqThuYEWv3f8JRSXHIp/LUJF7EZbjlA61g2CyGcn8w+2pA4lTT7cAAlhhdpnps6Qjw1Y5DvZZ+Fe61O4PXZRFTvM=
    secure: BFbXBoUrHmewnPfz5R58nyenvnrOo2Cb+2H/wdhSnVYdfBXmdJ9HFNKBb94GSa9e6Sz7qDiqlTAHz4r01wXfoLJmB3UfyWdE2fM45uVU7ao51qn6kziTufAZ0+2O4vsqmDVgcJUX0xBHV4WI+4R5e6VJwoQ3XyExYrPlwNftBXHjX85byTQFWNGDUD8BC0z7153f+VuGamXVizh8BuXFBYssdQNOD/2sZ7YF3UsdQ9GrNvpG2Ygzyz1Syt2KYFnydS4pITQG1H+d/obxWjU7aHO0EK7EjpPCVMHmv4PMKM4/bW68I/GuxHwYhwXntnK+0rVSFoepNatW8rtXTtVffzppPupT1SWbdBUd/e1XJ4gSz9thJOCjjuS54EJergFTSi4F1mVJlWqGFga+HfOUcibrxAdywIyaV2/nqhvFI9X7XvTnmbKHlyYa1YOOCQAKRQxMibtJetgHAxKEc8XWmW+d/jldnasGpdwpv1EzJgJuY3oh0M51+gUp1YIKmpCm0JiKXjt5AaB9slAwVpplQJGkIrga2SwjrsvVQ4pd28XRowEiH1OO0kdjB+C/gcRneszLoLKF3GPHYy4Lb5OxH4L9qgBvj/ySS821ZB9kRJJcor1fEkSWChWl77vP0wujkSEFHN0EMgxv7XBqy7Ks+XuTHP/6LllZEkDUU0xoSLc=
    secure: VXxLiDvYgwjWs9EkeVKHl3pW0Vx11l6Vbn6a4f25u4ILn6xqyoyPUyxfLeg9pEr3T7C9EWYJ2DWtqSTNYIInakHrr5L4DjzLLi6xm6z/lzxw6jQLZCDNMAXgCpnGm0Xk9Pj1QtaEj3bdhv3LN9+g/SuRephTzkeeVYW6k2GXRxAAOK3dkOTxUJ5v8lPfB9oxBdFliBdbbK8BRuqDkehkXDd+aq2qGnuZ8Qn1x2t63+E2qapjSPwqVe+KSz9rQ0LQ1pwX/c6gHHuaj6wlSSAKMGLftCz9BrgDjkRml1zoNjznVvMS8jNlPiqR1g0mLhCXTxQTc5betqwMPiHXe9Clx6oaqfp01j9haSDnJj3UY7AWSVA3oahfV0KQLhxSfaLV6d2ZH4aTuvaPGFfg3VflpiXVOh+bWjtJNgB+pEp8UfPpgiDQWJGDr/5E2rsUWY89XdFP69GGn2xs6nFu23DPuSd1bkI5NBsg+v06+ZamfkHeNhBR1nf20YMtF924Y0XIEE55AkhJK8MVqDcbtCUAT7qEXLokJH8j0fwQSkgiC1MeR0QqOHzFcyXuQS+YYYWiwrvt6fH+Tpq/3/EoAkLeBSMXyWfN1gEMuYH1HOBUaJl3DmksPMpg8lV128SOOlJ+HWi046hK4rsPedzMoajYGzV4Uy0/OujBaJcx54J6a5E=
    secure: i+Fmvo+nEoegHbiStqXdJ2wPyTp6RSKS/mxCT0yCVlmoj67k0JnSI56ZiCn7hPUGCcQ1LJGtywlRisZkyBBtHJkBKHT8rjQKRe66RnDLpbKYn0GVtBZudNMDNoVYKR/6LwXgSIC7zZ30qG8N1535ZfsfMXOzUz4YXZoCS5pm4wBR2jUWwB65jzkDKje/dlii8KRNR++RaY5X4ub7tOvXPRtz7aX/ljteQoqIia3CcpTZLQ/H5lfkE/1OEBxpv0Wjw1+/OGTL+O7bqklTAzyVDYpQwfvll6UO1uHMAoot0AvdluczzuaBSJ2GTk3eq8hgsUq/F0QHrAboA5+6qq1L6vCR1ONVk+O6gJ78lkZMXl34v/1uAJ+Em1tn8qcD6hvBP+gnVChfjJ+tT4n997Jw0sdM3rmXeOC3+ezsPoKXBMJ8jnYtfvNILHucByUJERBgbEY8iOqK9bUJ97WRTSYBCbJw/62Dg/UISf1q8PT0yuqyLsQzqpwYUWThuu0rfwOd7pcM4kKVEeSmarxe0KK76Z+WnHxtktZomLTf9TGhHMAdTgsjjdZyU5IIMMXPmdDRUjTo1MI76jyKqVtELAqLA3Rm8mOEu3QgFeIuCqVkX4I8v24vCoBYILXOYVKHr6aV3Gu796wSN3vfGQ8Ade7KyFNVwkNJ0CfbHCW2f0HaBUw=
    secure: LpW1dYQbRt/roCtV6dDQQCWyDOqWEh97Zzlij6WYCsal7JMCWnSR9MP+9gNMO1LRFRuA8yLorpv8oyvDRkn20GEsyqwNHum/3kE9tjNbiTnwRHkGiz9KW4Ql4DrFsOl9tMCZXsnoeOpl7BDVggTmlaEVozoHy/E3ZNRNeyyPo9QEzyy1/vG7BRi3aE37kQD2V7OTuz8Tq8QWmeD4mxkGuGiqBHnb4lWBDUQSkJ+u5qhHSujoLCTgdJwBCD+3SE8Z3kCyyu+SXCfeNeVcbwi3abrowu0nQlK6QJbr3jCBEAdL3tW8MJGePI+UNcaNn99sxwZZ7SmMJCSZdPeCXHmQghUWBYCYjBQx0yb4DY+3/5ZxZGSQ8LXCyPkD5H7AfveAEK+PHzh8YUYYobBhl/1RXTPbrh8cvyDvN7/I0nlePSkNB9QPjo8pzCVrkI6LJXZS/JGP+rDABYiXr1scbSybQZQcALSqQVH4lZV22w+4eWMXyty4xZLmFqVTu2wjNUbVsMWMn7CbphCwWQ/eCNJdILaG1KXLNfJk3lSnkLhtHBwCb9/O8tuX4mOBrjyPsgWacDjVKueJgem61cdMqgf+ZDSC3pvmZahXnCLACqPtya/RJ/LaaFsHeFWyZ961GCGnfMxXqAN5fWj7kqgm6wi8kkOa1DtBaS1d5spynDp6PBs=
    secure: SlROJ2DRp0juNIRP4Nee4a8IN0Tg8CEx8vR+e8JJYXmrEPXK4bKXObIFndl+qPLkvcQ+1xLGfso6VbNkHnJBUn0E1NpH3wXnb8iLpn76cV0ww8CrmmmqdNVFsoZPsFH6GMnPL6YCJHNRtRKMClJkETCVwcYAci/NWSUCGJRBHt+q+rL0kEXz+jS4zemNcCwCExxTZagTOBPbe4PHwDSfUQZXUmkRcvQ0VZI2r77wVCcwXrPg8T7sh5AxiRhd7R4gCaEsqrhvpFLFuDXqslhC3S6/cVsCeOK57Ajamg6NlgoJgQNHzdmQzEzctZsS0WsgvQpNL8linhIWvbdvL7vcWm6T/0V7m3GduvvzJkv9S651cl723bSKVsUJalAcNheGpPybFPTWBzUNiPsEXBZTvrkHq9fysAkBWKMfCV2dP3qWX8N0T+v3YX8Wdfp3e6Vq9iwICKts5PDR7HM9X+www6OwAhiaSoqTBcUPjNReBswUh7OPb/Yo5mrBYb3vY5Sv3kKYQ4Kw8z8kkfc2SLtXDHRUUZ4mj00H6FFD1VQlmKRbcD9paHO16nlLsx8qZZgd+YorLpGyfUXdzzfxEbi1Eofc9gsbEz5UPzlAOtxYtwcCAxOxcWH0sE2+ZFSAisMYrMoO9YZxTsM5FwLtehh2wqndVLw+lIEi6BaoLw26sD0=
